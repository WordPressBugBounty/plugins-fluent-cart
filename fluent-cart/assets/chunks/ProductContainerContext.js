import{b as l,j as t}from"./BlockEditorTranslator.js";import{u as g}from"./SingleProductContext.js";const{useBlockProps:_,InspectorControls:P}=wp.blockEditor,{PanelBody:j,ToggleControl:h}=wp.components,N={attributes:{isLink:{type:"boolean",default:!0},linkTarget:{type:"string",default:"_self"}},edit:o=>{var k,f;const{attributes:c,setAttributes:r}=o,{isLink:e,linkTarget:n}=c,i=_({className:"fct-product-block-editor-product-card-title"}),s=g(),a=((k=s==null?void 0:s.product)==null?void 0:k.post_title)||l("Product Title"),u=((f=s==null?void 0:s.product)==null?void 0:f.view_url)||"#",d=e?"a":"h5",m=e?{href:u,target:n,rel:n==="_blank"?"noopener noreferrer":void 0,onClick:p=>p.preventDefault()}:{};return t.jsxs(t.Fragment,{children:[t.jsx(P,{children:t.jsxs(j,{title:l("Settings"),children:[t.jsx(h,{label:l("Make title a link"),checked:e,onChange:p=>r({isLink:p})}),e&&t.jsx(h,{label:l("Open in new tab"),checked:n==="_blank",onChange:p=>r({linkTarget:p?"_blank":"_self"})})]})}),t.jsx(d,{...i,...m,children:a})]})},save:o=>null,supports:{html:!1,align:["left","center","right"],typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0},color:{text:!0,link:!0}}},{useBlockProps:y}=wp.blockEditor,S={edit:o=>{var e,n,i,s,a,u,d,m;const c=y({className:"fct-product-block-editor-product-card-sub-title"}),r=g();return t.jsx("div",{...o,...c,children:r?t.jsxs(t.Fragment,{children:[t.jsx("div",{dangerouslySetInnerHTML:{__html:(n=(e=r.product)==null?void 0:e.detail)==null?void 0:n.formatted_min_price}}),((s=(i=r.product)==null?void 0:i.detail)==null?void 0:s.min_price)!==((u=(a=r.product)==null?void 0:a.detail)==null?void 0:u.max_price)&&t.jsxs("div",{children:[" - ",t.jsx("span",{dangerouslySetInnerHTML:{__html:(m=(d=r.product)==null?void 0:d.detail)==null?void 0:m.formatted_max_price}})]})]}):"$0.00"})},save:o=>null,supports:{html:!1,align:["left","center","right"],typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0},color:{text:!0,background:!0}},usesContext:["fluent-cart/price_format"]},{InnerBlocks:x,useBlockProps:b}=wp.blockEditor,E={edit:o=>{const c=b({className:"fct-product-block-editor-product-card-image group-[.list]:flex-shrink-0"}),{context:r}=o,e=g(),n=()=>{const i=window.fluent_cart_block_editor_asset.placeholder_image;return e.product&&e.product.detail&&e.product.detail.featured_media&&e.product.detail.featured_media!==null&&typeof e.product.detail.featured_media=="object"&&e.product.detail.featured_media.url?e.product.detail.featured_media.url:i};return t.jsxs("div",{...c,children:[t.jsx("div",{className:"group-[.list]:flex-shrink-0",children:t.jsx("img",{src:n(),className:"w-full aspect-square object-cover rounded-md group-[.list]:w-[214px]",alt:e.product?e.product.post_title:"Product"})}),t.jsx(x,{})]})},save:o=>{const c=b.save();return t.jsx("div",{...c,className:"fluent-cart-product-image",children:t.jsx(x.Content,{})})}},{useBlockProps:v}=wp.blockEditor,I={edit:o=>{var a,u,d;const c=v({className:"fct-product-block-editor-product-card-primary-button"}),r=g();if(!r.product)return t.jsx("button",{...o,...c,children:l("View")});const n=((u=(a=r.product)==null?void 0:a.detail)==null?void 0:u.variation_type)==="simple",i=!!((d=r.product)!=null&&d.has_subscription);let s=l("View Options");return n&&(i?s=l("Buy Now"):s=l("View")),t.jsx("button",{...o,...c,children:s})},save:o=>null,supports:{html:!1,align:["left","center","right"],typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0,padding:!0},color:{text:!0},__experimentalBorder:{radius:!0,color:!0,width:!0,style:!0}}},{useBlockProps:B}=wp.blockEditor,H={edit:o=>{var e;const c=B({className:"fct-product-block-editor-product-card-excerpt"}),r=g();return t.jsx("p",{...o,...c,children:r&&((e=r.product)==null?void 0:e.post_excerpt)||l("(empty)")})},save:o=>null,supports:{html:!1,align:["left","center","right"],typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0,padding:!0},color:{text:!0}}},{createContext:w,useContext:L}=wp.element,$=w({simulateNoResults:!1,simulateLoading:!1});export{$ as P,H as a,I as b,E as c,S as d,N as e};
