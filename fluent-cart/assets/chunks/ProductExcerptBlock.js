import{b as n,j as t}from"./BlockEditorTranslator.js?ver=1.3.12";import{u as g}from"./SingleProductContext.js?ver=1.3.12";const{useBlockProps:_,InspectorControls:P}=wp.blockEditor,{PanelBody:j,ToggleControl:h}=wp.components,N={attributes:{isLink:{type:"boolean",default:!0},linkTarget:{type:"string",default:"_self"}},edit:o=>{var m,f;const{attributes:c,setAttributes:r}=o,{isLink:e,linkTarget:l}=c,i=_({className:"fct-product-block-editor-product-card-title"}),s=g(),a=((m=s==null?void 0:s.product)==null?void 0:m.post_title)||n("Product Title"),u=((f=s==null?void 0:s.product)==null?void 0:f.view_url)||"#",d=e?"a":"h5",k=e?{href:u,target:l,rel:l==="_blank"?"noopener noreferrer":void 0,onClick:p=>p.preventDefault()}:{};return t.jsxs(t.Fragment,{children:[t.jsx(P,{children:t.jsxs(j,{title:n("Settings"),children:[t.jsx(h,{label:n("Make title a link"),checked:e,onChange:p=>r({isLink:p})}),e&&t.jsx(h,{label:n("Open in new tab"),checked:l==="_blank",onChange:p=>r({linkTarget:p?"_blank":"_self"})})]})}),t.jsx(d,{...i,...k,children:a})]})},save:o=>null,supports:{html:!1,align:["left","center","right"],typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0},color:{text:!0,link:!0}}},{useBlockProps:y}=wp.blockEditor,S={edit:o=>{var e,l,i,s,a,u,d,k;const c=y({className:"fct-product-block-editor-product-card-sub-title"}),r=g();return t.jsx("div",{...o,...c,children:r?t.jsxs(t.Fragment,{children:[t.jsx("div",{dangerouslySetInnerHTML:{__html:(l=(e=r.product)==null?void 0:e.detail)==null?void 0:l.formatted_min_price}}),((s=(i=r.product)==null?void 0:i.detail)==null?void 0:s.min_price)!==((u=(a=r.product)==null?void 0:a.detail)==null?void 0:u.max_price)&&t.jsxs("div",{children:[" - ",t.jsx("span",{dangerouslySetInnerHTML:{__html:(k=(d=r.product)==null?void 0:d.detail)==null?void 0:k.formatted_max_price}})]})]}):"$0.00"})},save:o=>null,supports:{html:!1,align:["left","center","right"],typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0},color:{text:!0,background:!0}},usesContext:["fluent-cart/price_format"]},{InnerBlocks:b,useBlockProps:x}=wp.blockEditor,C={edit:o=>{const c=x({className:"fct-product-block-editor-product-card-image group-[.list]:flex-shrink-0"}),{context:r}=o,e=g(),l=()=>{const i=window.fluent_cart_block_editor_asset.placeholder_image;return e.product&&e.product.detail&&e.product.detail.featured_media&&e.product.detail.featured_media!==null&&typeof e.product.detail.featured_media=="object"&&e.product.detail.featured_media.url?e.product.detail.featured_media.url:i};return t.jsxs("div",{...c,children:[t.jsx("div",{className:"group-[.list]:flex-shrink-0",children:t.jsx("img",{src:l(),className:"w-full aspect-square object-cover rounded-md group-[.list]:w-[214px]",alt:e.product?e.product.post_title:"Product"})}),t.jsx(b,{})]})},save:o=>{const c=x.save();return t.jsx("div",{...c,className:"fluent-cart-product-image",children:t.jsx(b.Content,{})})}},{useBlockProps:v}=wp.blockEditor,E={edit:o=>{var a,u,d;const c=v({className:"fct-product-block-editor-product-card-primary-button"}),r=g();if(!r.product)return t.jsx("button",{...o,...c,children:n("View")});const l=((u=(a=r.product)==null?void 0:a.detail)==null?void 0:u.variation_type)==="simple",i=!!((d=r.product)!=null&&d.has_subscription);let s=n("View Options");return l&&(i?s=n("Buy Now"):s=n("View")),t.jsx("button",{...o,...c,children:s})},save:o=>null,supports:{html:!1,align:["left","center","right"],typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0,padding:!0},color:{text:!0},__experimentalBorder:{radius:!0,color:!0,width:!0,style:!0}}},{useBlockProps:B}=wp.blockEditor,I={edit:o=>{var e;const c=B({className:"fct-product-block-editor-product-card-excerpt"}),r=g();return t.jsx("p",{...o,...c,children:r&&((e=r.product)==null?void 0:e.post_excerpt)||n("(empty)")})},save:o=>null,supports:{html:!1,align:["left","center","right"],typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0,padding:!0},color:{text:!0}}};export{I as P,E as a,C as b,S as c,N as d};
